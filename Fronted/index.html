<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Texto a Voz de PDFs</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="script.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NP94DV6FWM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NP94DV6FWM');
</script>
</head>

<body>
    <header role="banner">
        <h1 id="main-title">Generador de Texto a Voz para PDFs</h1>
    </header>

    <main role="main">
        <section class="upload-section" aria-labelledby="uploadLabel">
            <label id="uploadLabel" for="pdfFile">Sube tu archivo PDF:</label>
            <input type="file" id="pdfFile" accept="application/pdf" aria-describedby="uploadHint" />
            <div id="uploadHint" style="font-size: 0.9em;">Presiona "S" para abrir el selector de archivos</div>
            <button id="extractText" aria-label="Extraer texto del archivo PDF">Extraer Texto</button>
        </section>

        <section class="text-output" aria-labelledby="textOutputTitle">
            <h2 id="textOutputTitle" class="sr-only">Texto extraído del archivo PDF</h2>
            <div id="highlightContainer"
                 role="region"
                 aria-live="polite"
                 aria-atomic="true"
                 tabindex="0"
                 style="white-space: pre-wrap;">
            </div>
        </section>

        <section class="tts-controls" aria-labelledby="controlsTitle">
            <h2 id="controlsTitle" class="sr-only">Controles de reproducción de texto</h2>
            <button id="play" aria-label="Reproducir texto (tecla P)">Reproducir</button>
            <button id="pause" aria-label="Pausar lectura (barra espaciadora)">Pausar</button>
            <button id="stop" aria-label="Reiniciar la lectura (tecla R)">Reiniciar audio</button>
        </section>

        <audio id="audioPlayer" style="width: 100%;"></audio>

        <button onclick="window.open('formulario.html', '_blank');">Formulario de retroalimentación</button>
    </main>
</body>
</html>